/**
 * IRONBAR STYLESHEET - SIGNAL THEME
 * Profile: Relaxed (1440p+)
 * Design System: Atomic Design (Atoms → Molecules → Organisms → Templates)
 * Version: 1.0
 * Date: 2026-01-15
 */

/* =============================================================================
   DESIGN TOKENS
   ============================================================================= */

/* Color Tokens - Signal Theme Dark Mode */
@define-color text_primary #c0c3d1;
@define-color text_secondary #9498ab;
@define-color text_tertiary #6b6f82;

@define-color surface_base #25262f;
@define-color surface_emphasis #2d2e39;

@define-color accent_focus #5a7dcf;
@define-color accent_warning #c9a93a;
@define-color accent_danger #d9574a;

/* =============================================================================
   BASE STYLES
   ============================================================================= */

/* Root Window */
.background {
  background-color: transparent;
}

/* Bar Root Container */
#bar {
  background-color: transparent;
  margin: 12px;
}

/* Layout Containers */
#bar #start,
#bar #center,
#bar #end {
  background-color: transparent;
}

/* =============================================================================
   ATOMS
   Indivisible UI elements that cannot be broken down further
   ============================================================================= */

/* -----------------------------------------------------------------------------
   Atom: Text Label
   ----------------------------------------------------------------------------- */

/* Base text styling - inherited by all text elements */
label {
  font-size: 14px;
  font-weight: 400;
  color: @text_primary;
  opacity: 0.8;
}

/* Primary text variant */
label.primary {
  font-weight: 400;
  color: @text_primary;
  opacity: 0.8;
}

/* Secondary text variant */
label.secondary {
  font-weight: 450;
  color: @text_secondary;
  opacity: 0.75;
}

/* Tertiary text variant */
label.tertiary {
  font-weight: 400;
  color: @text_tertiary;
  opacity: 0.7;
}

/* Monospace text variant (for numeric values) */
label.monospace {
  font-family: monospace;
  font-weight: 400;
  color: @text_primary;
  opacity: 0.9;
}

/* Header text variant */
label.header {
  font-size: 17px;
  font-weight: 600;
  color: @text_primary;
  opacity: 1.0;
}

/* Extra small text (badges) */
label.xs {
  font-size: 13px;
}

/* Medium text (buttons, workspace icons) */
label.md {
  font-size: 15px;
}

/* Large text (clock, emphasized) */
label.lg {
  font-size: 17px;
}

/* Extra large text (popup headers) */
label.xl {
  font-size: 19px;
}

/* -----------------------------------------------------------------------------
   Atom: Icon
   ----------------------------------------------------------------------------- */

/* Base icon styling */
/* Icons inherit color and opacity from parent by default */

/* Small icons (inline with text) */
.icon-small {
  font-size: 18px;
  opacity: 0.85;
}

/* Medium icons (standalone, buttons) */
.icon-medium {
  font-size: 20px;
  opacity: 0.85;
}

/* Large icons (emphasized) */
.icon-large {
  font-size: 22px;
  opacity: 0.85;
}

/* Tray icons (fixed size) */
.icon-tray {
  font-size: 22px;
  min-width: 18px;
  min-height: 18px;
}

/* -----------------------------------------------------------------------------
   Atom: Accent Bar
   The 3px left border used for active/focused states
   ----------------------------------------------------------------------------- */

/* Note: Accent bars are applied via border-left on parent elements */
/* See State Patterns section for implementation */

/* -----------------------------------------------------------------------------
   Atom: Spacer
   Empty space element for layout control
   ----------------------------------------------------------------------------- */

.spacer {
  min-width: 0;
  min-height: 0;
}

.spacer-xs {
  min-width: 4px;
}

.spacer-sm {
  min-width: 8px;
}

.spacer-md {
  min-width: 12px;
}

.spacer-lg {
  min-width: 16px;
}

.spacer-xl {
  min-width: 20px;
}

/* -----------------------------------------------------------------------------
   Atom: Divider
   Vertical separator (currently unused but available)
   ----------------------------------------------------------------------------- */

.divider {
  color: @text_tertiary;
  opacity: 0.45;
  padding-left: 8px;
  padding-right: 8px;
}

/* =============================================================================
   MOLECULES
   Functional units composed of atoms with single, clear purpose
   ============================================================================= */

/* -----------------------------------------------------------------------------
   Molecule: Icon-Label Pair
   ----------------------------------------------------------------------------- */

.icon-label-pair {
  min-height: 40px;
}

.icon-label-pair label {
  margin-left: 8px;
}

/* Default variant */
.icon-label-pair.default label {
  opacity: 0.75;
}

/* Emphasized variant */
.icon-label-pair.emphasized label {
  opacity: 0.9;
  font-weight: 450;
}

/* Muted variant */
.icon-label-pair.muted label {
  opacity: 0.7;
}

/* -----------------------------------------------------------------------------
   Molecule: Numeric Display
   Monospace text for changing numeric values
   ----------------------------------------------------------------------------- */

.numeric-display {
  font-family: monospace;
  font-weight: 400;
  color: @text_primary;
  opacity: 0.9;
}

/* Percentage variant (e.g., "100%") */
.numeric-display.percentage {
  min-width: 40px;
}

/* Time variant (e.g., "23:59") */
.numeric-display.time {
  min-width: 48px;
}

/* Time with seconds variant (e.g., "23:59:59") */
.numeric-display.time-extended {
  min-width: 72px;
}

/* -----------------------------------------------------------------------------
   Molecule: Workspace Button
   ----------------------------------------------------------------------------- */

.workspaces button {
  min-width: 40px;
  min-height: 40px;
  padding: 4px 8px;
  margin: 0 4px;
  border-radius: 12px;
  border: none;
  background-color: transparent;
  font-size: 15px;
  color: @text_tertiary;
  opacity: 0.7;
  transition: background-color 150ms ease;
}

.workspaces button:hover {
  opacity: 0.65;
  color: @text_primary;
}

/* Focused workspace - uses Active State Pattern */
.workspaces button.focused {
  border-left: 3px solid @accent_focus;
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
  border-top-right-radius: 12px;
  border-bottom-right-radius: 12px;
  padding-left: 5px;
  font-weight: 600;
  opacity: 1.0;
  color: @text_primary;
}

/* Urgent workspace */
.workspaces button.urgent {
  opacity: 1.0;
  animation: urgentPulse 1.5s ease-in-out infinite;
}

/* -----------------------------------------------------------------------------
   Molecule: Control Button
   General-purpose interactive button (icon-only or icon + value)
   ----------------------------------------------------------------------------- */

.control-button {
  min-height: 44px;
  padding: 0 10px;
  border-radius: 12px;
  background-color: transparent;
  border: none;
  opacity: 0.8;
  transition: background-color 150ms ease;
}

.control-button:hover {
  opacity: 1.0;
}

/* Active state (uses Active State Pattern) */
.control-button.active {
  border-left: 3px solid @accent_focus;
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
  padding-left: 7px;
  opacity: 0.9;
}

/* Danger variant (power button) */
.control-button.danger {
  color: @accent_danger;
}

.control-button.danger.active {
  border-left: 3px solid @accent_danger;
}

/* Icon + Value variant */
.control-button label {
  margin-left: 8px;
}

/* -----------------------------------------------------------------------------
   Molecule: Tray Icon
   Normalized application icon in system tray
   ----------------------------------------------------------------------------- */

.tray .item {
  min-width: 24px;
  min-height: 24px;
  padding: 4px;
  margin: 0 3px;
  border-radius: 10px;
  background-color: transparent;
  opacity: 0.85;
  transition: background-color 150ms ease;
}

.tray .item:hover {
  opacity: 1.0;
}

.tray .item.active {
  border-left: 3px solid @accent_focus;
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
  border-top-right-radius: 10px;
  border-bottom-right-radius: 10px;
  padding-left: 1px;
  opacity: 0.9;
}

/* Normalize tray icons to consistent size */
.tray .item image {
  min-width: 18px;
  min-height: 18px;
}

/* -----------------------------------------------------------------------------
   Molecule: Badge
   Small numeric indicator
   ----------------------------------------------------------------------------- */

.badge {
  font-size: 13px;
  font-weight: 400;
  color: @text_primary;
  margin-left: 4px;
}

/* Hide badge when count is 0 - handled by widget logic */

/* =============================================================================
   ORGANISMS
   Complete functional widgets composed of molecules and atoms
   ============================================================================= */

/* -----------------------------------------------------------------------------
   Organism: Workspaces Widget
   ----------------------------------------------------------------------------- */

.workspaces {
  padding: 0 12px;
  min-height: 44px;
}

/* Workspace buttons styled in Molecules section above */

/* -----------------------------------------------------------------------------
   Organism: Window Title Widget
   ----------------------------------------------------------------------------- */

.focused {
  padding: 4px 20px;
  min-height: 44px;
  border-radius: 12px;
  max-width: 296px;
}

.focused label {
  font-size: 14px;
  font-weight: 450;
  color: @text_secondary;
  opacity: 0.75;
}

/* Active window title */
.focused.active {
  border-left: 3px solid @accent_focus;
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
  padding-left: 17px;
}

.focused.active label {
  font-weight: 500;
  color: @text_primary;
  opacity: 1.0;
}

/* Inactive window title */
.focused.inactive label {
  opacity: 0.45;
}

/* Icon in window title */
.focused image {
  margin-right: 9px;
}

/* -----------------------------------------------------------------------------
   Organism: Layout Indicator Widget
   ----------------------------------------------------------------------------- */

/* Uses control-button class from Molecules */
.niri-layout {
  padding: 0 10px;
  margin-right: 12px;
  font-size: 15px;
  min-height: 44px;
  opacity: 0.7;
}

.niri-layout:hover {
  opacity: 1.0;
}

/* Active state handled by control-button.active via class inheritance */

/* -----------------------------------------------------------------------------
   Organism: Brightness Control Widget
   ----------------------------------------------------------------------------- */

/* Uses control-button class from Molecules */
.brightness {
  padding: 0 10px;
  min-height: 44px;
}

.brightness label {
  font-family: monospace;
  margin-left: 8px;
}

/* -----------------------------------------------------------------------------
   Organism: Volume Control Widget
   ----------------------------------------------------------------------------- */

.volume {
  padding: 0 10px;
  margin-right: 16px;
  min-height: 44px;
}

.volume label {
  font-family: monospace;
  margin-left: 8px;
}

/* Volume icon changes based on level - handled by widget */

/* -----------------------------------------------------------------------------
   Organism: System Tray Widget
   ----------------------------------------------------------------------------- */

.tray {
  padding: 0 20px;
  margin-right: 8px;
  min-height: 44px;
  border-radius: 12px;
  transition: all 200ms cubic-bezier(0.25, 1, 0.5, 1);
}

/* Tray items styled in Molecules section */

/* -----------------------------------------------------------------------------
   Organism: Battery Indicator Widget
   ----------------------------------------------------------------------------- */

.battery {
  padding: 4px 12px;
  font-family: monospace;
  min-height: 44px;
  transition: background-color 150ms ease;
}

.battery label {
  font-family: monospace;
  opacity: 0.8;
}

/* Warning state (10-20% charge) */
.battery.warning {
  border-left: 3px solid @accent_warning;
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
  padding-left: 9px;
}

.battery.warning label {
  color: @accent_warning;
}

/* Critical state (< 10% charge) */
.battery.critical {
  border-left: 3px solid @accent_danger;
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
  padding-left: 9px;
  animation: pulse 1s ease-in-out infinite;
}

.battery.critical label {
  color: @accent_danger;
}

/* -----------------------------------------------------------------------------
   Organism: Notification Button Widget
   ----------------------------------------------------------------------------- */

.notifications {
  padding: 0 8px;
  margin-right: 16px;
  min-width: 40px;
  min-height: 44px;
  opacity: 0.8;
  transition: background-color 150ms ease;
}

.notifications:hover {
  opacity: 1.0;
}

.notifications.active {
  border-left: 3px solid @accent_focus;
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
  padding-left: 5px;
}

.notifications image {
  margin-right: 4px;
}

/* Badge styled in Molecules section */

/* -----------------------------------------------------------------------------
   Organism: Clock Widget
   ----------------------------------------------------------------------------- */

.clock {
  padding: 0 16px;
  font-family: monospace;
  font-size: 17px;
  font-weight: 450;
  min-width: 128px;
  min-height: 44px;
  border-radius: 12px;
  color: @text_primary;
  opacity: 0.9;
}

.clock label {
  font-family: monospace;
  font-size: 17px;
  font-weight: 450;
}

/* -----------------------------------------------------------------------------
   Organism: Power Button Widget
   ----------------------------------------------------------------------------- */

.power {
  margin-left: 8px;
  min-width: 44px;
  min-height: 44px;
  padding: 4px 12px;
  font-size: 15px;
  border-radius: 12px;
  background-color: transparent;
  border: none;
  color: @accent_danger;
  transition: background-color 150ms ease;
}

.power:hover {
  background-color: rgba(45, 46, 57, 0.15);
}

.power.active {
  border-left: 3px solid @accent_danger;
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;
  padding-left: 9px;
}

/* =============================================================================
   TEMPLATES
   Layout containers organizing organisms into cohesive sections
   ============================================================================= */

/* -----------------------------------------------------------------------------
   Template: Island (Base Pattern)
   ----------------------------------------------------------------------------- */

#bar #start,
#bar #center,
#bar #end {
  background-color: @surface_base;
  border: 2px solid @surface_emphasis;
  border-radius: 16px;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.08);
  padding: 4px 16px;
}

/* -----------------------------------------------------------------------------
   Template: Start Island
   ----------------------------------------------------------------------------- */

#bar #start {
  margin-right: 16px;
  padding: 4px 12px;
}

/* -----------------------------------------------------------------------------
   Template: Center Island
   ----------------------------------------------------------------------------- */

#bar #center {
  padding: 4px 20px;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.10);
}

/* Empty state - handled by widget visibility logic */

/* -----------------------------------------------------------------------------
   Template: End Island
   ----------------------------------------------------------------------------- */

#bar #end {
  margin-left: 16px;
  padding: 4px 16px;
}

/* -----------------------------------------------------------------------------
   Template: Popup Container
   ----------------------------------------------------------------------------- */

.popup {
  background-color: @surface_base;
  border: 2px solid @surface_emphasis;
  border-radius: 18px;
  padding: 20px;
  margin-top: 12px;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.12);
  animation: fadeIn 150ms ease-out;
}

/* Popup typography */
.popup label.header {
  font-size: 17px;
  font-weight: 600;
  line-height: 1.4;
}

.popup label {
  font-size: 14px;
  line-height: 1.5;
}

/* -----------------------------------------------------------------------------
   Template: Clock Popup
   ----------------------------------------------------------------------------- */

.popup-clock {
  min-width: 320px;
  padding: 24px;
}

.popup-clock label {
  font-size: 15px;
}

/* =============================================================================
   STATE PATTERNS
   Reusable interaction state patterns
   ============================================================================= */

/* -----------------------------------------------------------------------------
   Active State Pattern
   3px left accent bar indicating active/focused/selected state
   ----------------------------------------------------------------------------- */

/* Implemented inline on components above using:
   border-left: 3px solid <accent-color>
   border-top-left-radius: 0
   border-bottom-left-radius: 0
   padding-left: original - 3px
*/

/* -----------------------------------------------------------------------------
   Hover State Pattern
   Visual feedback for pointer hover
   ----------------------------------------------------------------------------- */

button:hover,
.widget:hover {
  opacity: 1.0;
}

/* -----------------------------------------------------------------------------
   Warning State Pattern (Battery 10-20%)
   ----------------------------------------------------------------------------- */

/* Implemented on .battery.warning above */

/* -----------------------------------------------------------------------------
   Critical State Pattern (Battery < 10%)
   ----------------------------------------------------------------------------- */

/* Implemented on .battery.critical above with pulse animation */

/* -----------------------------------------------------------------------------
   Urgent State Pattern (Workspace notifications)
   ----------------------------------------------------------------------------- */

/* Implemented on .workspaces button.urgent above with urgentPulse animation */

/* =============================================================================
   ANIMATIONS
   GTK CSS animations (opacity-only due to platform limitations)
   ============================================================================= */

/* -----------------------------------------------------------------------------
   Pulse Animation (Battery Critical)
   ----------------------------------------------------------------------------- */

@keyframes pulse {
  0%, 100% {
    opacity: 1.0;
  }
  50% {
    opacity: 0.5;
  }
}

/* -----------------------------------------------------------------------------
   Urgent Pulse Animation (Workspace Urgent)
   ----------------------------------------------------------------------------- */

@keyframes urgentPulse {
  0%, 100% {
    opacity: 1.0;
  }
  50% {
    opacity: 0.5;
  }
}

/* -----------------------------------------------------------------------------
   Fade In Animation (Popup Entry)
   ----------------------------------------------------------------------------- */

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1.0;
  }
}

/* =============================================================================
   GTK CSS WORKAROUNDS
   Platform-specific fixes and compatibility
   ============================================================================= */

/* GTK CSS does not support:
   - transform property (no scale/translate/rotate)
   - alpha() color function (use rgba() instead)
   - :empty pseudo-class (handle in widget config)
   - font-variant-numeric (use monospace fonts)
   - Drop shadows (only inset shadows work)
*/

/* Remove default button styling */
button {
  border: none;
  background: none;
  box-shadow: none;
  outline: none;
}

/* Remove focus ring */
button:focus {
  outline: none;
  box-shadow: none;
}

/* Ensure consistent box-sizing */
* {
  box-sizing: border-box;
}

/* =============================================================================
   END OF STYLESHEET
   ============================================================================= */
